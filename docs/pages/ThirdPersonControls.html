<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>ThirdPersonControls - Three.js Docs</title>
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<script src="../scripts/highlight.min.js"></script>
	<link type="text/css" rel="stylesheet" href="../styles/highlight-three.css">
	<link type="text/css" rel="stylesheet" href="../styles/page.css">
</head>
<body>
		<p class="inheritance" translate="no"><a href="EventDispatcher.html">EventDispatcher</a> → <a href="Controls.html">Controls</a> → </p>
	<h1 translate="no">ThirdPersonControls</h1>
		<section>
			<header>
				<div class="class-description"><p>Third-person camera controls for following and orbiting around a target object.</p>
<p>ThirdPersonControls provides smooth camera following behavior with configurable damping,
pivot-based rotation, adjustable camera offset, optional collision detection using raycasting,
and smooth target switching with interpolated camera transitions.</p>
<ul>
<li>Orbit: Left mouse / touch: one-finger move.</li>
<li>Zoom: Middle mouse, or mousewheel / touch: two-finger pinch.</li>
</ul>
<p>Supports both <a href="PerspectiveCamera.html">PerspectiveCamera</a> and <a href="OrthographicCamera.html">OrthographicCamera</a>.</p></div>
				<h2>Code Example</h2>
				<div translate="no"><pre><code class="language-js">const controls = new ThirdPersonControls( camera, target, renderer.domElement );

// Configure the controls
controls.distance = 5;
controls.height = 2;
controls.enableCollision = true;
controls.collisionObjects = [ ...sceneObjects ];

// Switch targets smoothly
controls.setTarget( newTarget, true );

function animate() {
	const delta = clock.getDelta();
	controls.update( delta );
	renderer.render( scene, camera );
}
</code></pre></div>
			</header>
			<article>
				<h2 class="subsection-title">Import</h2>
				<p><span translate="no">ThirdPersonControls</span> is an addon, and must be imported explicitly, see <a href="https://threejs.org/manual/#en/installation" target="_blank" rel="noopener">Installation#Addons</a>.</p>
				<pre><code class="language-js">import { ThirdPersonControls } from 'three/addons/controls/ThirdPersonControls.js';</code></pre>
				<div class="container-overview">
					<h2>Constructor</h2>
					<h3 class="name name-method" id="ThirdPersonControls" translate="no">new <a href="#ThirdPersonControls">ThirdPersonControls</a><span class="signature">( object : <span class="param-type"><a href="Camera.html">Camera</a></span>, target : <span class="param-type"><a href="Object3D.html">Object3D</a></span>, domElement : <span class="param-type">HTMLElement</span> )</span> </h3>
					<div class="method">
						<div class="description">
							<p>Constructs a new third-person controls instance.</p>
						</div>
						<table class="params">
							<tbody>
								<tr>
									<td class="name">
										<strong>object</strong>
									</td>
									<td class="description last">
										<p>The camera to be controlled (PerspectiveCamera or OrthographicCamera).</p>
									</td>
								</tr>
								<tr>
									<td class="name">
										<strong>target</strong>
									</td>
									<td class="description last">
										<p>The target object to follow.</p>
									</td>
								</tr>
								<tr>
									<td class="name">
										<strong>domElement</strong>
									</td>
									<td class="description last">
										<p>The HTML element used for event listeners.</p>
										<p>Default is <code>null</code>.</p>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<h2 class="subsection-title">Properties</h2>
				<div class="member">
					<h3 class="name" id="autoAlign" translate="no">.<a href="#autoAlign">autoAlign</a><span class="type-signature"> : boolean</span> </h3>
					<div class="description">
						<p>Whether the camera should automatically align behind the target when the target moves.</p>
						<p>Default is <code>false</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="autoAlignSpeed" translate="no">.<a href="#autoAlignSpeed">autoAlignSpeed</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>Speed of auto-alignment when enabled.</p>
						<p>Default is <code>0.05</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="collisionObjects" translate="no">.<a href="#collisionObjects">collisionObjects</a><span class="type-signature"> : Array.&lt;<a href="Object3D.html">Object3D</a>&gt;</span> </h3>
					<div class="description">
						<p>Array of objects to test for collision. If empty, no collision detection is performed even if <code>enableCollision</code> is true.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="collisionRadius" translate="no">.<a href="#collisionRadius">collisionRadius</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>The radius used for collision detection. A larger value keeps the camera further from obstacles.</p>
						<p>Default is <code>0.3</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="distance" translate="no">.<a href="#distance">distance</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>The desired distance from the camera to the target pivot.</p>
						<p>Default is <code>5</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="enableCollision" translate="no">.<a href="#enableCollision">enableCollision</a><span class="type-signature"> : boolean</span> </h3>
					<div class="description">
						<p>Whether collision detection is enabled. When enabled, raycasting is used to prevent the camera from clipping through geometry.</p>
						<p>Default is <code>false</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="enableRotate" translate="no">.<a href="#enableRotate">enableRotate</a><span class="type-signature"> : boolean</span> </h3>
					<div class="description">
						<p>Whether rotation is enabled.</p>
						<p>Default is <code>true</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="enableZoom" translate="no">.<a href="#enableZoom">enableZoom</a><span class="type-signature"> : boolean</span> </h3>
					<div class="description">
						<p>Whether zooming (distance adjustment) is enabled.</p>
						<p>Default is <code>true</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="height" translate="no">.<a href="#height">height</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>The height offset of the camera pivot point relative to the target.</p>
						<p>Default is <code>1.6</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="maxDistance" translate="no">.<a href="#maxDistance">maxDistance</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>The maximum allowed distance from camera to target.</p>
						<p>Default is <code>20</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="maxPolarAngle" translate="no">.<a href="#maxPolarAngle">maxPolarAngle</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>The maximum polar angle (vertical rotation) in radians.</p>
						<p>Default is <code>Math.PI - 0.1</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="minDistance" translate="no">.<a href="#minDistance">minDistance</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>The minimum allowed distance from camera to target.</p>
						<p>Default is <code>1</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="minPolarAngle" translate="no">.<a href="#minPolarAngle">minPolarAngle</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>The minimum polar angle (vertical rotation) in radians. 0 is looking straight down, Math.PI is looking straight up.</p>
						<p>Default is <code>0.1</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="mouseButtons" translate="no">.<a href="#mouseButtons">mouseButtons</a><span class="type-signature"> : Object</span> </h3>
					<div class="description">
						<p>This object contains references to the mouse actions used by the controls.</p>
<pre><code class="language-js">controls.mouseButtons = {
	LEFT: THREE.MOUSE.ROTATE,
	MIDDLE: THREE.MOUSE.DOLLY,
	RIGHT: null
}
</code></pre>
					</div>
						<dl class="details">
							<dt class="tag-overrides"><strong>Overrides:</strong> <a href="Controls.html#mouseButtons">Controls#mouseButtons</a></dt>
						</dl>
				</div>
				<div class="member">
					<h3 class="name" id="pivotOffset" translate="no">.<a href="#pivotOffset">pivotOffset</a><span class="type-signature"> : <a href="Vector3.html">Vector3</a></span> </h3>
					<div class="description">
						<p>The pivot offset from the target position in local space. This allows adjusting where the camera focuses on the target.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="rotationSpeed" translate="no">.<a href="#rotationSpeed">rotationSpeed</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>The rotation speed for mouse/touch input.</p>
						<p>Default is <code>0.005</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="smoothingFactor" translate="no">.<a href="#smoothingFactor">smoothingFactor</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>The smoothing factor for camera movement (0 = no smoothing, 1 = instant). Lower values create smoother but slower camera movement.</p>
						<p>Default is <code>0.1</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="target" translate="no">.<a href="#target">target</a><span class="type-signature"> : <a href="Object3D.html">Object3D</a></span> </h3>
					<div class="description">
						<p>The target object to follow.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="targetTransitionDuration" translate="no">.<a href="#targetTransitionDuration">targetTransitionDuration</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>Duration of target transition in seconds. Used when switching targets with smooth transition enabled via <code>setTarget(target, true)</code>.</p>
						<p>Default is <code>0.5</code>.</p>
					</div>
				</div>
				<div class="member">
					<h3 class="name" id="touches" translate="no">.<a href="#touches">touches</a><span class="type-signature"> : Object</span> </h3>
					<div class="description">
						<p>This object contains references to the touch actions used by the controls.</p>
<pre><code class="language-js">controls.touches = {
	ONE: THREE.TOUCH.ROTATE,
	TWO: THREE.TOUCH.DOLLY_ROTATE
}
</code></pre>
					</div>
						<dl class="details">
							<dt class="tag-overrides"><strong>Overrides:</strong> <a href="Controls.html#touches">Controls#touches</a></dt>
						</dl>
				</div>
				<div class="member">
					<h3 class="name" id="zoomSpeed" translate="no">.<a href="#zoomSpeed">zoomSpeed</a><span class="type-signature"> : number</span> </h3>
					<div class="description">
						<p>The zoom speed for scroll/pinch input.</p>
						<p>Default is <code>1</code>.</p>
					</div>
				</div>
				<h2 class="subsection-title">Methods</h2>
					<h3 class="name name-method" id="getAzimuthalAngle" translate="no">.<a href="#getAzimuthalAngle">getAzimuthalAngle</a><span class="signature">()</span><span class="type-signature"> : number</span> </h3>
					<div class="method">
						<div class="description">
							<p>Get the current azimuthal (horizontal) angle in radians.</p>
						</div>
						<dl class="details">
							<dt class="tag-returns"><strong>Returns:</strong> The current azimuthal angle.</dt>
						</dl>
					</div>
					<h3 class="name name-method" id="getDistance" translate="no">.<a href="#getDistance">getDistance</a><span class="signature">()</span><span class="type-signature"> : number</span> </h3>
					<div class="method">
						<div class="description">
							<p>Get the current distance from camera to target pivot.</p>
						</div>
						<dl class="details">
							<dt class="tag-returns"><strong>Returns:</strong> The current distance.</dt>
						</dl>
					</div>
					<h3 class="name name-method" id="getPolarAngle" translate="no">.<a href="#getPolarAngle">getPolarAngle</a><span class="signature">()</span><span class="type-signature"> : number</span> </h3>
					<div class="method">
						<div class="description">
							<p>Get the current polar (vertical) angle in radians.</p>
						</div>
						<dl class="details">
							<dt class="tag-returns"><strong>Returns:</strong> The current polar angle.</dt>
						</dl>
					</div>
					<h3 class="name name-method" id="getTarget" translate="no">.<a href="#getTarget">getTarget</a><span class="signature">()</span><span class="type-signature"> : <a href="Object3D.html">Object3D</a></span> </h3>
					<div class="method">
						<div class="description">
							<p>Get the current target object.</p>
						</div>
						<dl class="details">
							<dt class="tag-returns"><strong>Returns:</strong> The current target object.</dt>
						</dl>
					</div>
					<h3 class="name name-method" id="isTransitioning" translate="no">.<a href="#isTransitioning">isTransitioning</a><span class="signature">()</span><span class="type-signature"> : boolean</span> </h3>
					<div class="method">
						<div class="description">
							<p>Check if the camera is currently transitioning between targets.</p>
						</div>
						<dl class="details">
							<dt class="tag-returns"><strong>Returns:</strong> True if transitioning.</dt>
						</dl>
					</div>
					<h3 class="name name-method" id="setDistance" translate="no">.<a href="#setDistance">setDistance</a><span class="signature">( value : <span class="param-type">number</span> )</span> </h3>
					<div class="method">
						<div class="description">
							<p>Set the camera distance from target.</p>
						</div>
						<table class="params">
							<tbody>
								<tr>
									<td class="name">
										<strong>value</strong>
									</td>
									<td class="description last">
										<p>The new distance value.</p>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<h3 class="name name-method" id="setTarget" translate="no">.<a href="#setTarget">setTarget</a><span class="signature">( target : <span class="param-type"><a href="Object3D.html">Object3D</a></span>, smooth : <span class="param-type">boolean</span> )</span> </h3>
					<div class="method">
						<div class="description">
							<p>Set a new target object to follow with optional smooth transition.</p>
						</div>
						<table class="params">
							<tbody>
								<tr>
									<td class="name">
										<strong>target</strong>
									</td>
									<td class="description last">
										<p>The new target object.</p>
									</td>
								</tr>
								<tr>
									<td class="name">
										<strong>smooth</strong>
									</td>
									<td class="description last">
										<p>Whether to smoothly transition to the new target. When <code>true</code>, the camera will interpolate its position and rotation over the duration specified by <code>targetTransitionDuration</code>.</p>
										<p>Default is <code>false</code>.</p>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
					<h3 class="name name-method" id="update" translate="no">.<a href="#update">update</a><span class="signature">( delta : <span class="param-type">number</span> )</span><span class="type-signature"> : boolean</span> </h3>
					<div class="method">
						<div class="description">
							<p>Updates the controls. Should be called in the animation loop.</p>
						</div>
						<table class="params">
							<tbody>
								<tr>
									<td class="name">
										<strong>delta</strong>
									</td>
									<td class="description last">
										<p>The time delta in seconds. Used for frame-rate independent smoothing.</p>
									</td>
								</tr>
							</tbody>
						</table>
						<dl class="details">
							<dt class="tag-returns"><strong>Returns:</strong> Returns true if the camera was updated.</dt>
						</dl>
					</div>
				<h2 class="subsection-title">Events</h2>
					<h3 class="name name-method" id="event:change" translate="no">.<a href="#event:change">change</a> </h3>
					<div class="method">
						<div class="description">
							<p>Fires when the camera has been transformed by the controls.</p>
						</div>
						<h5>Type:</h5>
						<ul>
							<li>
<span class="param-type">Object</span>
							</li>
						</ul>
					</div>
					<h3 class="name name-method" id="event:end" translate="no">.<a href="#event:end">end</a> </h3>
					<div class="method">
						<div class="description">
							<p>Fires when an interaction has finished.</p>
						</div>
						<h5>Type:</h5>
						<ul>
							<li>
<span class="param-type">Object</span>
							</li>
						</ul>
					</div>
					<h3 class="name name-method" id="event:start" translate="no">.<a href="#event:start">start</a> </h3>
					<div class="method">
						<div class="description">
							<p>Fires when an interaction was initiated.</p>
						</div>
						<h5>Type:</h5>
						<ul>
							<li>
<span class="param-type">Object</span>
							</li>
						</ul>
					</div>
					<h3 class="name name-method" id="event:targetchange" translate="no">.<a href="#event:targetchange">targetchange</a> </h3>
					<div class="method">
						<div class="description">
							<p>Fires when the target has been switched via <code>setTarget()</code>.</p>
						</div>
						<h5>Type:</h5>
						<ul>
							<li>
<span class="param-type">Object</span>
							</li>
						</ul>
					</div>
				<h2 class="subsection-title">Source</h2>
				<p>
					<a href="https://github.com/mrdoob/three.js/blob/master/examples/jsm/controls/ThirdPersonControls.js" translate="no" target="_blank" rel="noopener">examples/jsm/controls/ThirdPersonControls.js</a>
				</p>
			</article>
		</section>
<script src="../scripts/linenumber.js"></script>
<script src="../scripts/page.js"></script>
</body>
</html>
