<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<base href="../../../" />
		<script src="page.js"></script>
		<link type="text/css" rel="stylesheet" href="page.css" />
	</head>
	<body>
		<h1>[name]</h1>

		<p class="desc">
			Implementation of a [link:http://en.wikipedia.org/wiki/Quaternion quaternion].<br />
			Quaternions are used in three.js to represent
			[link:https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation rotations].
		</p>

		<p>
			Iterating through a [name] instance will yield its components (x, y, z, w)
			in the corresponding order.
		</p>

		<p>
			Note that three.js expects Quaternions to be normalized.
		</p>

		<h2>Code Example</h2>

		<code>
		const quaternion = new THREE.Quaternion();
		quaternion.setFromAxisAngle( new THREE.Vector3( 0, 1, 0 ), Math.PI / 2 );

		const vector = new THREE.Vector3( 1, 0, 0 );
		vector.applyQuaternion( quaternion );
		</code>

		<h2>Constructor</h2>

		<h3>
			[name]( [param:Float x], [param:Float y], [param:Float z], [param:Float w] )
		</h3>
		<p>
			[page:Float x] - x coordinate<br />
			[page:Float y] - y coordinate<br />
			[page:Float z] - z coordinate<br />
			[page:Float w] - w coordinate
		</p>

		<h2>Properties</h2>

		<h3>[property:Boolean isQuaternion]</h3>
		<p>Read-only flag to check if a given object is of type [name].</p>

		<h3>[property:Float x]</h3>

		<h3>[property:Float y]</h3>

		<h3>[property:Float z]</h3>

		<h3>[property:Float w]</h3>

		<h2>Methods</h2>

		<h3>[method:Float angleTo]( [param:Quaternion q] )</h3>
		<p>
			Returns the angle between this quaternion and quaternion [page:Quaternion q] in radians.
		</p>

		<h3>[method:Quaternion clone]()</h3>
		<p>
			Creates a new Quaternion with identical [page:.x x], [page:.y y], [page:.z z] 
			and [page:.w w] properties to this one.
		</p>

		<h3>[method:this conjugate]()</h3>
		<p>
			Returns the rotational conjugate of this quaternion. The conjugate of a
			quaternion represents the same rotation in the opposite direction about
			the rotational axis.
		</p>

		<h3>[method:this copy]( [param:Quaternion q] )</h3>
		<p>
			Copies the [page:.x x], [page:.y y], [page:.z z] and [page:.w w]
			properties of [page:Quaternion q] into this quaternion.
		</p>

		<h3>[method:Boolean equals]( [param:Quaternion v] )</h3>
		<p>
			[page:Quaternion v] - Quaternion that this quaternion will be compared
			to.<br /><br />

			Compares the [page:.x x], [page:.y y], [page:.z z] and [page:.w w]
			properties of [page:Quaternion v] to the equivalent properties of this
			quaternion to determine if they represent the same rotation.
		</p>

		<h3>[method:Float dot]( [param:Quaternion v] )</h3>
		<p>
			Calculates the [link:https://en.wikipedia.org/wiki/Dot_product dot product] 
			of quaternions [page:Quaternion v] and this one.
		</p>

		<h3>
			[method:this fromArray]( [param:Array array], [param:Integer offset] )
		</h3>
		<p>
			[page:Array array] - array of format (x, y, z, w) used to construct the
			quaternion.<br />
			[page:Integer offset] - (optional) an offset into the array.<br /><br />

			Sets this quaternion's [page:.x x], [page:.y y], [page:.z z] and [page:.w w] 
			properties from an array.
		</p>

		<h3>[method:this identity]()</h3>
		<p>
			Sets this quaternion to the identity quaternion; that is, to the
			quaternion that represents "no rotation".
		</p>

		<h3>[method:this invert]()</h3>
		<p>
			Inverts this quaternion - calculates the [page:.conjugate conjugate]. The
			quaternion is assumed to have unit length.
		</p>

		<h3>[method:Float length]()</h3>
		<p>
			Computes the [link:https://en.wikipedia.org/wiki/Euclidean_distance Euclidean length] 
			(straight-line length) of this quaternion, considered as
			a 4 dimensional vector.
		</p>

		<h3>[method:Float lengthSq]()</h3>
		<p>
			Computes the squared
			[link:https://en.wikipedia.org/wiki/Euclidean_distance Euclidean length]
			(straight-line length) of this quaternion, considered as a 4 dimensional
			vector. This can be useful if you are comparing the lengths of two
			quaternions, as this is a slightly more efficient calculation than
			[page:.length length]().
		</p>

		<h3>[method:this normalize]()</h3>
		<p>
			[link:https://en.wikipedia.org/wiki/Normalized_vector Normalizes] this
			quaternion - that is, calculated the quaternion that performs the same
			rotation as this one, but has [page:.length length] equal to `1`.
		</p>

		<h3>[method:this multiply]( [param:Quaternion q] )</h3>
		<p>Multiplies this quaternion by [page:Quaternion q].</p>

		<h3>
			[method:this multiplyQuaternions]( [param:Quaternion a], [param:Quaternion b] )
		</h3>
		<p>
			Sets this quaternion to [page:Quaternion a] x [page:Quaternion b].<br />
			Adapted from the method outlined
			[link:http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.html here].
		</p>

		<h3>[method:this premultiply]( [param:Quaternion q] )</h3>
		<p>Pre-multiplies this quaternion by [page:Quaternion q].</p>

		<h3>[method:this random]()</h3>
		<p>Sets this quaternion to a uniformly random, normalized quaternion.</p>

		<h3>
			[method:this rotateTowards]( [param:Quaternion q], [param:Float step] )
		</h3>
		<p>
			[page:Quaternion q] - The target quaternion.<br />
			[page:Float step] - The angular step in radians.<br /><br />

			Rotates this quaternion by a given angular step to the defined quaternion
			*q*. The method ensures that the final quaternion will not overshoot *q*.
		</p>

		<h3>[method:this slerp]( [param:Quaternion qb], [param:Float t] )</h3>
		<p>
			[page:Quaternion qb] - The other quaternion rotation<br />
			[page:Float t] - interpolation factor in the closed interval `[0, 1]`.<br /><br />

			Handles the spherical linear interpolation between quaternions.
			[page:Float t] represents the amount of rotation between this quaternion
			(where [page:Float t] is 0) and [page:Quaternion qb] (where [page:Float t]
			is 1). This quaternion is set to the result. Also see the static version
			of the `slerp` below.

			<code>
			// rotate a mesh towards a target quaternion 
			mesh.quaternion.slerp( endQuaternion, 0.01 );
			</code>
		</p>

		<h3>
			[method:this slerpQuaternions]( [param:Quaternion qa], [param:Quaternion qb], [param:Float t] )
		</h3>
		<p>
			Performs a spherical linear interpolation between the given quaternions
			and stores the result in this quaternion.
		</p>

		<h3>
			[method:this set]( [param:Float x], [param:Float y], [param:Float z], [param:Float w] )
		</h3>
		<p>
			Sets [page:.x x], [page:.y y], [page:.z z], [page:.w w] properties of this
			quaternion.
		</p>

		<h3>
			[method:this setFromAxisAngle]( [param:Vector3 axis], [param:Float angle] )
		</h3>
		<p>
			Sets this quaternion from rotation specified by [page:Vector3 axis] and
			[page:Float angle].<br />
			Adapted from the method
			[link:http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.html here].<br />
			`Axis` is assumed to be normalized, `angle` is in radians.
		</p>

		<h3>[method:this setFromEuler]( [param:Euler euler] )</h3>
		<p>
			Sets this quaternion from the rotation specified by [page:Euler] angle.
		</p>

		<h3>[method:this setFromRotationMatrix]( [param:Matrix4 m] )</h3>
		<p>
			[page:Matrix4 m] - a [page:Matrix4] of which the upper 3x3 of matrix is a
			pure [link:https://en.wikipedia.org/wiki/Rotation_matrix rotation matrix]
			(i.e. unscaled).<br />
			Sets this quaternion from rotation component of [page:Matrix4 m].<br />
			Adapted from the method
			[link:http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.html here].
		</p>

		<h3>
			[method:this setFromUnitVectors]( [param:Vector3 vFrom], [param:Vector3 vTo] )
		</h3>
		<p>
			Sets this quaternion to the rotation required to rotate direction vector
			[page:Vector3 vFrom] to direction vector [page:Vector3 vTo].<br />
			Adapted from the method
			[link:http://lolengine.net/blog/2013/09/18/beautiful-maths-quaternion-from-vectors here].<br />
			[page:Vector3 vFrom] and [page:Vector3 vTo] are assumed to be normalized.
		</p>

		<h3>
			[method:Array toArray]( [param:Array array], [param:Integer offset] )
		</h3>
		<p>
			[page:Array array] - An optional array to store the quaternion. If not
			specified, a new array will be created.<br />
			[page:Integer offset] - (optional) if specified, the result will be copied
			into this [page:Array].<br /><br />

			Returns the numerical elements of this quaternion in an array of format
			[x, y, z, w].
		</p>

		<h3>[method:Array toJSON]()</h3>
		<p>
			This methods defines the serialization result of [name]. Returns the
			numerical elements of this quaternion in an array of format [x, y, z, w].
		</p>

		<h3>
			[method:this fromBufferAttribute]( [param:BufferAttribute attribute], [param:Integer index] )
		</h3>
		<p>
			[page:BufferAttribute attribute] - the source attribute.<br />
			[page:Integer index] - index in the attribute.<br /><br />

			Sets [page:.x x], [page:.y y], [page:.z z], [page:.w w] properties of this
			quaternion from the [page:BufferAttribute attribute].
		</p>

		<h2>Static Methods</h2>

		<h3>
			[method:undefined slerpFlat]( [param:Array dst], [param:Integer dstOffset], 
			[param:Array src0], [param:Integer srcOffset0], [param:Array src1], 
			[param:Integer srcOffset1], [param:Float t] )
		</h3>
		<p>
			[page:Array dst] - The output array.<br />
			[page:Integer dstOffset] - An offset into the output array.<br />
			[page:Array src0] - The source array of the starting quaternion.<br />
			[page:Integer srcOffset0] - An offset into the array `src0`.<br />
			[page:Array src1] - The source array of the target quaternion.<br />
			[page:Integer srcOffset1] - An offset into the array `src1`.<br />
			[page:Float t] - Normalized interpolation factor (between `0` and `1`).<br /><br />

			This SLERP implementation assumes the quaternion data are managed in flat
			arrays.
		</p>

		<h3>
			[method:Array multiplyQuaternionsFlat]( [param:Array dst], [param:Integer dstOffset], 
			[param:Array src0], [param:Integer srcOffset0], [param:Array src1], [param:Integer srcOffset1] )
		</h3>
		<p>
			[page:Array dst] - The output array.<br />
			[page:Integer dstOffset] - An offset into the output array.<br />
			[page:Array src0] - The source array of the starting quaternion.<br />
			[page:Integer srcOffset0] - An offset into the array `src0`.<br />
			[page:Array src1] - The source array of the target quaternion.<br />
			[page:Integer srcOffset1] - An offset into the array `src1`.<br /><br />

			This multiplication implementation assumes the quaternion data are managed
			in flat arrays.
		</p>

		<!-- Note: Do not add non-static methods to the bottom of this page. Put them above the <h2>Static Methods</h2> -->

		<h2>Source</h2>

		<p>
			[link:https://github.com/mrdoob/three.js/blob/master/src/[path].js src/[path].js]
		</p>
	</body>
</html>
